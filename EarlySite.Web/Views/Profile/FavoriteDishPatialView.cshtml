@using EarlySite.Model.Show;

@model IList<Dish>

@{
    //收藏总数
    var favoriteCount = Model == null ? 0 : Model.Count;

}

<div class="warrper">
    <div class="warrper-header">
        <a class="warrper-header-title efont" href="">收藏的单品</a>
        <span class="warrper-header-more">进行了 @favoriteCount 次单品收藏</span>
    </div>
    <div class="warrper-body">
        <div class="row warrper-body-list">
            @{
                if (Model != null && Model.Count > 0)
                {
                    <ul class="boxlist">
                        @foreach (Dish dish in Model)
                        {
                            var dishUrl = string.Format("{0}?dishId={1}", Url.Action("DishView", "Explore"), dish.DishId);
                            <li class="boxlist-item">
                                <div class="boxlist-item_box">
                                    <div class="boxlist-cover">
                                        <a class="boxlist-a" href="@dishUrl">
                                            <img class="boxlist-pic" src="data:image/png;base64,@dish.Image" alt="xxx" />
                                        </a>
                                    </div>
                                    <div class="boxlist-title">
                                        <span class="boxlist-title-txt">
                                            <a class="boxlist-a" href="@dishUrl" title="@dish.Name">@dish.Name</a>
                                        </span>
                                    </div>
                                    <div class="boxlist-user" title="@dish.ShopName">
                                        <a class="boxlist-a" href="">@dish.ShopName</a>
                                    </div>
                                    <div class="boxlist-other">￥@dish.Price.ToString("0.00")</div>
                                    <div class="boxlist-other">@dish.UpdateDate.ToString("yyyy-MM-dd")</div>
                                </div>
                            </li>
                        }
                    </ul>
                }
            }
        </div>
    </div>
</div>
